@if (vulnerability) {
  <div class="p-4 h-100">
    <h4 class="mb-4">Playground</h4>
    <div class="playground-content">
      @switch (vulnerability.id) {
        @case ('template') {
          <div>
            <p class="text-muted">Template playground content goes here.</p>
            <!-- Add template-specific playground features -->
          </div>
        }
        @case ('Improper-Neutralization-of-Input-During-Web-Page-Generation') {
          <div>
            <button type="button" class="btn btn-primary" (click)="getStoredValue()">
              Get User Inputted Value
            </button>
            <p>{{ savedValue$ | async }}</p>
          </div>
        }
        <!-- Add more vulnerability-specific playground content -->
        <!-- @case ('Improper-Neutralization-of-Special-Elements-used-in-an-SQL-Command') {
          <div>SQL Injection playground</div>
        } -->
        <!-- @case ('Improper-Neutralization-of-Input-During-Web-Page-Generation') {
          <div>XSS playground</div>
        } -->
        @case ('Missing-Authorization') {
          <div class="blog-container">
            <h3 class="mb-3">Blog Posts</h3>

            <div class="card mb-3" *ngFor="let post of posts">
              <div class="card-body">
                <h5>User {{ post.userId }}'s Post</h5>

                <!-- READ MODE -->
                <p *ngIf="!canEdit(post)">
                  {{ post.content }}
                </p>

                <!-- EDIT MODE -->
                <textarea
                  *ngIf="canEdit(post)"
                  class="form-control mb-2"
                  rows="4"
                  [(ngModel)]="post.content"
                ></textarea>

                <button
                  *ngIf="canEdit(post)"
                  class="btn btn-sm btn-success"
                  (click)="savePost(post)"
                >
                  Save
                </button>

                <span *ngIf="!canEdit(post)" class="text-muted small">
                  Read-only (not your post)
                </span>
              </div>
            </div>
          </div>
        }
        @default {
          <div>
            <p class="text-muted">
              Playground content for this vulnerability is not yet implemented.
            </p>
          </div>
        }
      }
    </div>
  </div>
}
